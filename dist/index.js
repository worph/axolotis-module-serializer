import{ContainerModule as y}from"inversify";var t=class{specialListException=[ArrayBuffer,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array];deserialize(e,r){if(e!==void 0){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;for(let i of this.specialListException)if(e instanceof Object&&e instanceof i)return e;if(e.serializeID)throw new Error;if(e.type==="Map"){let i=new Map;for(let[n,l]of e.value)i.set(r(n),r(l));return i}else if(e instanceof Array){let i=[];for(let n=0;n<e.length;n++)i[n]=r(e[n]);return i}else if(e instanceof Object){let i={};for(let n in e)i[n]=r(e[n]);return i}else return e}}serialize(e,r){if(e!==void 0){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;for(let i of this.specialListException)if(e instanceof Object&&e instanceof i)return e;if(e.serializeID)throw new Error;if(e instanceof Array){for(let i=0;i<e.length;i++)e[i]=r(e[i]);return e}else if(e instanceof Map){let i=new Map;for(let[n,l]of e)i.set(r(n),r(l));return{type:"Map",value:Array.from(i.entries())}}else if(e instanceof Object){let i={};for(let n in e)i[n]=r(e[n]);return i}else return JSON.parse(JSON.stringify(e))}}getSerializeID(){return null}};var s=class{seriList={};defaultSeri=new t;registerDataType(e){this.seriList[e.getSerializeID()]=e}reviver=e=>this.deserialize(e);replacer=e=>this.serialise(e);serializeToString(e){return JSON.stringify(this.serialise(e))}deserializeFromString(e){return this.deserialize(JSON.parse(e))}serialise(e){let r=this.defaultSeri;return e&&e.serializeID&&this.seriList[e.serializeID]&&(r=this.seriList[e.serializeID]),r.serialize(e,this.replacer)}deserialize(e){let r=this.defaultSeri;return e&&e.serializeID&&this.seriList[e.serializeID]&&(r=this.seriList[e.serializeID]),r.deserialize(e,this.reviver)}};var o=Symbol.for("SerializerEngineName");var f=class{getModule(){return new y(e=>{e(o).toDynamicValue(()=>new s).inSingletonScope()})}};export{f as AxSerializerModule,s as SerializerEngine,o as SerializerEngineName};
//# sourceMappingURL=index.js.map
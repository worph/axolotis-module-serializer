var o=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var z=(t,e)=>{for(var r in e)o(t,r,{get:e[r],enumerable:!0})},m=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of p(e))!S.call(t,n)&&n!==r&&o(t,n,{get:()=>e[n],enumerable:!(i=u(e,n))||i.enumerable});return t};var g=t=>m(o({},"__esModule",{value:!0}),t);var h={};z(h,{AxSerializerModule:()=>y,SerializerEngine:()=>s,SerializerEngineName:()=>f});module.exports=g(h);var c=require("inversify");var l=class{specialListException=[ArrayBuffer,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array];deserialize(e,r){if(e!==void 0){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;for(let i of this.specialListException)if(e instanceof Object&&e instanceof i)return e;if(e.serializeID)throw new Error;if(e.type==="Map"){let i=new Map;for(let[n,a]of e.value)i.set(r(n),r(a));return i}else if(e instanceof Array){let i=[];for(let n=0;n<e.length;n++)i[n]=r(e[n]);return i}else if(e instanceof Object){let i={};for(let n in e)i[n]=r(e[n]);return i}else return e}}serialize(e,r){if(e!==void 0){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;for(let i of this.specialListException)if(e instanceof Object&&e instanceof i)return e;if(e.serializeID)throw new Error;if(e instanceof Array){for(let i=0;i<e.length;i++)e[i]=r(e[i]);return e}else if(e instanceof Map){let i=new Map;for(let[n,a]of e)i.set(r(n),r(a));return{type:"Map",value:Array.from(i.entries())}}else if(e instanceof Object){let i={};for(let n in e)i[n]=r(e[n]);return i}else return JSON.parse(JSON.stringify(e))}}getSerializeID(){return null}};var s=class{seriList={};defaultSeri=new l;registerDataType(e){this.seriList[e.getSerializeID()]=e}reviver=e=>this.deserialize(e);replacer=e=>this.serialise(e);serializeToString(e){return JSON.stringify(this.serialise(e))}deserializeFromString(e){return this.deserialize(JSON.parse(e))}serialise(e){let r=this.defaultSeri;return e&&e.serializeID&&this.seriList[e.serializeID]&&(r=this.seriList[e.serializeID]),r.serialize(e,this.replacer)}deserialize(e){let r=this.defaultSeri;return e&&e.serializeID&&this.seriList[e.serializeID]&&(r=this.seriList[e.serializeID]),r.deserialize(e,this.reviver)}};var f=Symbol.for("SerializerEngineName");var y=class{getModule(){return new c.ContainerModule(e=>{e(f).toDynamicValue(()=>new s).inSingletonScope()})}};0&&(module.exports={AxSerializerModule,SerializerEngine,SerializerEngineName});
//# sourceMappingURL=index.cjs.map